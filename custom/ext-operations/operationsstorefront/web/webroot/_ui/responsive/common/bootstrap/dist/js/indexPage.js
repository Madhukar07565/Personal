var indexData = {
	"booking_details": {
		"booking_reference_no": "IBE-123",
		"booking_date_time": "20 APR 2014 12:10 PM",
		"QC_status": "OK",
		"SAP_file_reference": "No - SAP12345",
		"travel_request_ID1": "TRI2014",
		"travel_request_ID2": "PIBTINR14-000000001/01",
		"client_referral": "Mr A Kumar VIP (referred by Mr. A Dube)"
	},
	"product_summary": {
		"from_to": "DEL - BOM",
		"time": "25 Sep 14 12:00 PM",
		"name_details": "Mr A Kumar x 2 | 2 Adults",
		"to_from": "BOM - DEL",
		"return_time": "22 Sep 14 10:00 AM",
		"return_name_details": "Mr A Kumar x 3 | 2 Adults, 1 Child",
		"hotel_name": "Hotel Hilton",
		"hotel_location": "New Delhi",
		"stay_details": "3 nights | 1 Triple Room",
		"user_details": "Mr A Kumar x 3 | 2 Adults, 1 Child",
		"bus_travel_to": "Mumbai - Lonavala",
		"bus_travel_date": "23 Sep 14 07:30 AM",
		"bus_booking_name": "Mrs R Shah x 2 | 2 Adults",
		"total_invoice": "Rs. 45, 900",
		"total_collection": "Rs. 20, 900",
		"total_outstanding": "Rs. 25,000"
	},

	"file_handler": {
		"name": "Hitesh Shah",
		"product_passenger_information1": [
			{
				"passenger_name": {
					"rowspan": "1",
					"data": "Mr. A1 Kumar - (Adult)"
				},
				"flight_details": {
					"rowspan": "2",
					"Sector": "BOM-DEL",
					"flight_number": "9W 121"
				},
				"departure_arrival_details": {
					"rowspan": "2",
					"departure1": "2014-10-25",
					"departure2": "2014-10-25",
					"arrival1": "2014-10-25",
					"arrival2": "2014-10-25"
				},
				"class_RBD_fareBasis_ticketNo": {
					"rowspan": "1",
					"data": "Eco-E-YEE-12345"
				},
				"GDS_PNR": {
					"rowspan": "1",
					"data": "7456"
				},
				"airline_PNR": {
					"rowspan": "1",
					"data": "7456"
				},
				"booking_status": {
					"rowspan": "1",
					"data": ["ok", "cancel"]
				},
				"timeLimit_expiry_date": {
					"rowspan": "2",
					"data1": "2014-10-25",
					"data2": "2014-10-25"
				},
				"amendment_cancellation_date": {
					"rowspan": "1",
					"data": "-"
				},
				"DOB": {
					"rowspan": "1",
					"data": "1985-09-12"
				},
				"meal_preference": {
					"rowspan": "1",
					"data": ["Veg", "Non-Veg"]
				},
				"special_request": {
					"rowspan": "1",
					"data": ""
				},
				"flight_seat_no": {
					"rowspan": "1",
					"data": "25D"
				},
				"credential_name": {
					"rowspan": "1",
					"data": "Search, Book PCC 3T6W"
				},
				"ticketing_PCC": {
					"rowspan": "1",
					"data": ["76TM"]
				},
				"inventory": {
					"rowspan": "1",
					"data": "Prepaid"
				},
				"source_supplier": {
					"rowspan": "2",
					"data": "Jet Airways - Asia"
				},
				"enabler_supplier": {
					"rowspan": "2",
					"data": "Galileo - Asia"
				},
				"refundable_nonRefundable": {
					"rowspan": "1",
					"data": "Refundable"
				},
				"total_selling_price": {
					"rowspan": "1",
					"data": "INR 16000"
				},
				"commission": {
					"rowspan": "1",
					"data": "-"
				},
				"discount_value": {
					"rowspan": "1",
					"data": "-"
				},
				"total_net_selling_price": {
					"rowspan": "1",
					"data": "INR 16000"
				},
				"company_cancellation_charges": {
					"rowspan": "1",
					"data": ""
				},
				"company_amendment_charges": {
					"rowspan": "1",
					"data": ""
				},
				"actual_margin_amount": {
					"rowspan": "1",
					"data": "INR 2000"
				},
				"net_payble_to_supplier": {
					"rowspan": "1",
					"data": "INR 12000"
				},
				"supplier_cancellation_charges": {
					"rowspan": "1",
					"data": ""
				},
				"supplier_amendment_charges": {
					"rowspan": "1",
					"data": ""
				},
				"total_net_payble_to_supplier": {
					"rowspan": "1",
					"data": "INR 12000"
				},
				"offers_applied": {
					"rowspan": "2",
					"data": "View"
				},
				"action": {
					"rowspan": "1",
					"data": ["Update Booking Status", "Update Booking Status1"]
				}
			},
			{
				"passenger_name": {
					"rowspan": "1",
					"data": "Mrs. C Kumar - (Adult)"
				},
				"class_RBD_fareBasis_ticketNo": {
					"rowspan": "1",
					"data": "Eco-Y-ZSS-13232"
				},
				"GDS_PNR": {
					"rowspan": "1",
					"data": "9809"
				},
				"airline_PNR": {
					"rowspan": "1",
					"data": "7456"
				},
				"booking_status": {
					"rowspan": "1",
					"data": ["Ok", "Done"]
				},
				"amendment_cancellation_date": {
					"rowspan": "1",
					"data": "-"
				},
				"DOB": {
					"rowspan": "1",
					"data": "1985-09-12"
				},
				"meal_preference": {
					"rowspan": "1",
					"data": ["Veg", "Non-Veg"]
				},
				"special_request": {
					"rowspan": "1",
					"data": ""
				},
				"flight_seat_no": {
					"rowspan": "1",
					"data": "20D"
				},
				"credential_name": {
					"rowspan": "1",
					"data": "Search, Book PCC 3T6W"
				},
				"ticketing_PCC": {
					"rowspan": "1",
					"data": ["76TM"]
				},
				"inventory": {
					"rowspan": "1",
					"data": "-"
				},
				"refundable_nonRefundable": {
					"rowspan": "1",
					"data": "Refundable"
				},
				"total_selling_price": {
					"rowspan": "1",
					"data": "INR 16000"
				},
				"commission": {
					"rowspan": "1",
					"data": "-"
				},
				"discount_value": {
					"rowspan": "1",
					"data": "-"
				},
				"total_net_selling_price": {
					"rowspan": "1",
					"data": "INR 16000"
				},
				"company_cancellation_charges": {
					"rowspan": "1",
					"data": ""
				},
				"company_amendment_charges": {
					"rowspan": "1",
					"data": ""
				},
				"actual_margin_amount": {
					"rowspan": "1",
					"data": "INR 4000"
				},
				"net_payble_to_supplier": {
					"rowspan": "1",
					"data": "INR 12000"
				},
				"supplier_cancellation_charges": {
					"rowspan": "1",
					"data": ""
				},
				"supplier_amendment_charges": {
					"rowspan": "1",
					"data": ""
				},
				"total_net_payble_to_supplier": {
					"rowspan": "1",
					"data": "INR 12000"
				},
				"action": {
					"rowspan": "1",
					"data": ["Update Booking Status", "Update Booking Status1"]
				}
            }

		],
		"product_passenger_information2": [
			{
				"passenger_name": {
					"rowspan": "1",
					"data": "Mr. A2 Kumar - (Adult)"
				},
				"flight_details": {
					"rowspan": "3",
					"Sector": "BOM-DEL",
					"flight_number": "9W 121"
				},
				"departure_arrival_details": {
					"rowspan": "3",
					"departure1": "2014-10-25",
					"departure2": "2014-10-25",
					"arrival1": "2014-10-25",
					"arrival2": "2014-10-25"
				},
				"class_RBD_fareBasis_ticketNo": {
					"rowspan": "1",
					"data": "Eco-E-YEE-12345"
				},
				"GDS_PNR": {
					"rowspan": "1",
					"data": "7456"
				},
				"airline_PNR": {
					"rowspan": "1",
					"data": "7456"
				},
				"booking_status": {
					"rowspan": "1",
					"data": ["ok", "cancel"]
				},
				"timeLimit_expiry_date": {
					"rowspan": "3",
					"data1": "2014-10-25",
					"data2": "2014-10-25"
				},
				"amendment_cancellation_date": {
					"rowspan": "1",
					"data": "-"
				},
				"DOB": {
					"rowspan": "1",
					"data": "1985-09-12"
				},
				"meal_preference": {
					"rowspan": "1",
					"data": ["Veg", "Non-Veg"]
				},
				"special_request": {
					"rowspan": "1",
					"data": ""
				},
				"flight_seat_no": {
					"rowspan": "1",
					"data": "25D"
				},
				"credential_name": {
					"rowspan": "1",
					"data": "Search, Book PCC 3T6W"
				},
				"ticketing_PCC": {
					"rowspan": "1",
					"data": ["76TM"]
				},
				"inventory": {
					"rowspan": "1",
					"data": "Prepaid"
				},
				"source_supplier": {
					"rowspan": "3",
					"data": "Jet Airways - Asia"
				},
				"enabler_supplier": {
					"rowspan": "3",
					"data": "Galileo - Asia"
				},
				"refundable_nonRefundable": {
					"rowspan": "1",
					"data": "Refundable"
				},
				"total_selling_price": {
					"rowspan": "1",
					"data": "INR 16000"
				},
				"commission": {
					"rowspan": "1",
					"data": "-"
				},
				"discount_value": {
					"rowspan": "1",
					"data": "-"
				},
				"total_net_selling_price": {
					"rowspan": "1",
					"data": "INR 16000"
				},
				"company_cancellation_charges": {
					"rowspan": "1",
					"data": ""
				},
				"company_amendment_charges": {
					"rowspan": "1",
					"data": ""
				},
				"actual_margin_amount": {
					"rowspan": "1",
					"data": "INR 4000"
				},
				"net_payble_to_supplier": {
					"rowspan": "1",
					"data": "INR 12000"
				},
				"supplier_cancellation_charges": {
					"rowspan": "1",
					"data": ""
				},
				"supplier_amendment_charges": {
					"rowspan": "1",
					"data": ""
				},
				"total_net_payble_to_supplier": {
					"rowspan": "1",
					"data": "INR 12000"
				},
				"offers_applied": {
					"rowspan": "3",
					"data": "View"
				},
				"action": {
					"rowspan": "1",
					"data": ["Update Booking Status", "Update Booking Status1"]
				}
			},
			{
				"passenger_name": {
					"rowspan": "1",
					"data": "Mrs. C Kumar - (Adult)"
				},
				"class_RBD_fareBasis_ticketNo": {
					"rowspan": "1",
					"data": "Eco-Y-ZSS-13232"
				},
				"GDS_PNR": {
					"rowspan": "1",
					"data": "9809"
				},
				"airline_PNR": {
					"rowspan": "1",
					"data": "7456"
				},
				"booking_status": {
					"rowspan": "1",
					"data": ["Ok", "Done"]
				},
				"amendment_cancellation_date": {
					"rowspan": "1",
					"data": "-"
				},
				"DOB": {
					"rowspan": "1",
					"data": "1985-09-12"
				},
				"meal_preference": {
					"rowspan": "1",
					"data": ["Veg", "Non-Veg"]
				},
				"special_request": {
					"rowspan": "1",
					"data": ""
				},
				"flight_seat_no": {
					"rowspan": "1",
					"data": "20D"
				},
				"credential_name": {
					"rowspan": "1",
					"data": "Search, Book PCC 3T6W"
				},
				"ticketing_PCC": {
					"rowspan": "1",
					"data": ["76TM"]
				},
				"inventory": {
					"rowspan": "1",
					"data": "-"
				},
				"refundable_nonRefundable": {
					"rowspan": "1",
					"data": "Refundable"
				},
				"total_selling_price": {
					"rowspan": "1",
					"data": "INR 16000"
				},
				"commission": {
					"rowspan": "1",
					"data": "-"
				},
				"discount_value": {
					"rowspan": "1",
					"data": "-"
				},
				"total_net_selling_price": {
					"rowspan": "1",
					"data": "INR 16000"
				},
				"company_cancellation_charges": {
					"rowspan": "1",
					"data": ""
				},
				"company_amendment_charges": {
					"rowspan": "1",
					"data": ""
				},
				"actual_margin_amount": {
					"rowspan": "1",
					"data": "INR 4000"
				},
				"net_payble_to_supplier": {
					"rowspan": "1",
					"data": "INR 12000"
				},
				"supplier_cancellation_charges": {
					"rowspan": "1",
					"data": ""
				},
				"supplier_amendment_charges": {
					"rowspan": "1",
					"data": ""
				},
				"total_net_payble_to_supplier": {
					"rowspan": "1",
					"data": "INR 12000"
				},
				"action": {
					"rowspan": "1",
					"data": ["Update Booking Status", "Update Booking Status1"]
				}
            },
			{
				"passenger_name": {
					"rowspan": "1",
					"data": "Ms. B Kumar - (Child)"
				},
				"class_RBD_fareBasis_ticketNo": {
					"rowspan": "1",
					"data": "Eco-K-BGF-43423"
				},
				"GDS_PNR": {
					"rowspan": "1",
					"data": "7890"
				},
				"airline_PNR": {
					"rowspan": "1",
					"data": "7890"
				},
				"booking_status": {
					"rowspan": "1",
					"data": ["Ok", "Done"]
				},
				"amendment_cancellation_date": {
					"rowspan": "1",
					"data": "05-Sep-2014"
				},
				"DOB": {
					"rowspan": "1",
					"data": "1985-09-12"
				},
				"meal_preference": {
					"rowspan": "1",
					"data": ["Veg", "Non-Veg"]
				},
				"special_request": {
					"rowspan": "1",
					"data": ""
				},
				"flight_seat_no": {
					"rowspan": "1",
					"data": "20D"
				},
				"credential_name": {
					"rowspan": "1",
					"data": "Search, Book PCC 3T6W"
				},
				"ticketing_PCC": {
					"rowspan": "1",
					"data": ["76TM"]
				},
				"inventory": {
					"rowspan": "1",
					"data": "-"
				},
				"refundable_nonRefundable": {
					"rowspan": "1",
					"data": "Refundable"
				},
				"total_selling_price": {
					"rowspan": "1",
					"data": "INR 16000"
				},
				"commission": {
					"rowspan": "1",
					"data": "-"
				},
				"discount_value": {
					"rowspan": "1",
					"data": "-"
				},
				"total_net_selling_price": {
					"rowspan": "1",
					"data": "INR 16000"
				},
				"company_cancellation_charges": {
					"rowspan": "1",
					"data": ""
				},
				"company_amendment_charges": {
					"rowspan": "1",
					"data": ""
				},
				"actual_margin_amount": {
					"rowspan": "1",
					"data": "INR 4000"
				},
				"net_payble_to_supplier": {
					"rowspan": "1",
					"data": "INR 8000"
				},
				"supplier_cancellation_charges": {
					"rowspan": "1",
					"data": ""
				},
				"supplier_amendment_charges": {
					"rowspan": "1",
					"data": ""
				},
				"total_net_payble_to_supplier": {
					"rowspan": "1",
					"data": "INR 8000"
				},
				"action": {
					"rowspan": "1",
					"data": ["Update Booking Status", "Update Booking Status1"]
				}
            }

		],

		"client_payment_details": [
			{
				"invoice": {
					"rowspan": "2",
					"no": "PIBTINR14-000000001/01",
					"date": "25-Oct-2014"
				},
				"invoice_amount": {
					"rowspan": "2",
					"data": "INR 28000"
				},
				"payment_towards": {
					"rowspan": "1",
					"data": "Initial Deposit of 10000"
				},
				"payment_date": {
					"rowspan": "1",
					"data": "12 Oct 2014"
				},
				"payment_collection": {
					"rowspan": "1",
					"data": "INR 10000, 12 Oct 2014 Wire Transfer"
				},
				"R_NR": {
					"rowspan": "1",
					"data": "Refundable"
				},
				"receipt_no": {
					"rowspan": "1",
					"data": "1234"
				},
				"payment_status": {
					"rowspan": "1",
					"data": "Payment Realized"
				},
				"note_no": {
					"rowspan": "1",
					"data": "CR34527"
				},
				"refund_claim_id": {
					"rowspan": "2",
					"data": "1234"
				},
				"refund_amount": {
					"rowspan": "2",
					"data": "INR 500"
				},
				"refund_status": {
					"rowspan": "2",
					"data": "Processed"
				}
			},
			{
				"payment_towards": {
					"rowspan": "1",
					"data": "Initial Deposit of 10000"
				},
				"payment_date": {
					"rowspan": "1",
					"data": "12 Oct 2014"
				},
				"payment_collection": {
					"rowspan": "1",
					"data": "INR 10000, 12 Oct 2014 Wire Transfer"
				},
				"R_NR": {
					"rowspan": "1",
					"data": "Refundable"
				},
				"receipt_no": {
					"rowspan": "1",
					"data": "1234"
				},
				"payment_status": {
					"rowspan": "1",
					"data": "Pending"
				}
			},
			{
				"invoice": {
					"rowspan": "1",
					"no": "PIBTINR14-000000001/02",
					"date": "25-Oct-2014"
				},
				"invoice_amount": {
					"rowspan": "1",
					"data": "INR 28000"
				},
				"payment_towards": {
					"rowspan": "1",
					"data": "Initial Deposit of 10000"
				},
				"payment_date": {
					"rowspan": "1",
					"data": "12 Oct 2014"
				},
				"payment_collection": {
					"rowspan": "1",
					"data": "INR 10000, 12 Oct 2014 Wire Transfer"
				},
				"R_NR": {
					"rowspan": "1",
					"data": "Refundable"
				},
				"receipt_no": {
					"rowspan": "1",
					"data": "3456"
				},
				"payment_status": {
					"rowspan": "1",
					"data": "Payment Realized"
				},
				"note_no": {
					"rowspan": "1",
					"data": "CR34527"
				},
				"refund_claim_id": {
					"rowspan": "1",
					"data": "1234"
				},
				"refund_amount": {
					"rowspan": "1",
					"data": "INR 500"
				},
				"refund_status": {
					"rowspan": "1",
					"data": "Processed"
				}
			}

		]

	},

	"supplier_payment_details": [
		{
			"supplier_name": {
				"rowspan": "2",
				"data": "Jet Airways"
			},
			"net_payable_to_supplier": {
				"rowspan": "2",
				"data": "INR 45900"
			},
			"type_of_settlement": {
				"rowspan": "1",
				"data": "Credit"
			},
			"payment_due_date": {
				"rowspan": "1",
				"data": "25 Oct 2014"
			},
			"amount": {
				"rowspan": "1",
				"data": "INR 34425"
			},
			"payment_date": {
				"rowspan": "1",
				"data": "-"
			},
			"payment_advice_ID": {
				"rowspan": "1",
				"data": "-"
			},
			"payment_ref_no": {
				"rowspan": "1",
				"data": "-"
			},
			"status": {
				"rowspan": "1",
				"data": "Pending"
			}
        },
		{
			"type_of_settlement": {
				"rowspan": "1",
				"data": "Credit"
			},
			"payment_due_date": {
				"rowspan": "1",
				"data": "12 Oct 2014"
			},
			"amount": {
				"rowspan": "1",
				"data": "INR 11475"
			},
			"payment_date": {
				"rowspan": "1",
				"data": "12 Oct 2014"
			},
			"payment_advice_ID": {
				"rowspan": "1",
				"data": "1234"
			},
			"payment_ref_no": {
				"rowspan": "1",
				"data": "3211"
			},
			"status": {
				"rowspan": "1",
				"data": "Paid"
			}
        }
    ]
};


function handlerData() {

	addTemplate("#booking-details-template", "#booking-details-container");
	addTemplate("#product-summary-template", "#product-summary-container");
	addTemplate("#file-handler-template", "#file-handler-container");
	addTemplate("#client-payment-template", "#client-payment-container");
	addTemplate("#supplier-payment-template", "#supplier-payment-container");
}

function addTemplate(template, container) {
	var templateSource = $(template).html(),
		templateView = Handlebars.compile(templateSource),
		dataHTML = templateView(indexData);
	$(container).html(dataHTML);
	console.log($(templateView));
}

/*Handlebars.registerHelper('if_eq', function (a, b, opts) {
	if (a == b) // Or === depending on your needs
		return opts.fn(this);
	else
		return opts.inverse(this);
});
*/

$(document).ready(function () {
	//handlerData();
	setTimeout(function () {
		sliderView();
	}, 10);

	var tableWidth, thWidth, counter = 0;
	tableWidth = $('.table-fixed').width();
	$(document).on('click', '.exp-collapse', function () {
		$this = $(this)
		thWidth = 0;
		var selItem = $(this).attr('data-item');
		$('.travel-list.active .table-fixed').addClass('clear-text');
		console.log(tableWidth)
		$('.travel-list.active .table-fixed th.' + selItem).each(function () {
			counter = counter + 1;
			thWidth += $('.travel-list.active .table-fixed th.' + selItem).outerWidth(true);
			console.log(thWidth)
			$('.travel-list.active .table-fixed').attr('width', tableWidth - thWidth);
		});

		$('.travel-list.active .' + selItem).css({
			'text-indent': '-99999999px'
		});
		//         $('.travel-list.active .'+selItem+' a').css({'display': 'none', 'text-indent': '-99999999px'});
		$('.travel-list.active .' + selItem + ',' + '.travel-list.active .main-' + selItem).animate({
			width: "65px"
		}, function () {
			$this.parent().addClass('table-collapse');
		});
	});
	$(document).on('click', '.table-collapse .exp-collapse', function () {
		$this = $(this)
		$('.active.travel-list .table-fixed').attr('width', tableWidth);
		var selItem = $(this).attr('data-item');
		$('.active .' + selItem + ',' + '.main-' + selItem).animate({
			width: "inherit"
		}, function () {
			$('.active.travel-list .' + selItem + ',' + '.main-' + selItem).removeAttr('style')
			$this.parent().removeClass('table-collapse');
			$('.active .' + selItem).css('text-indent', 'inherit');
			$(this).closest('.table-fixed').removeClass('clear-text');
		});

	});
	$('.product-items .item-group button').click(function () {
		var journeyList = $(this).attr('data-list');
		$('.item-group button').removeClass('active');
		$('.travel-list').removeClass('active');
		$('.travel-list').slideUp();
		$('#' + journeyList).slideDown().addClass('active');
		$(this).addClass('active');
	})
});

function sliderView() {
	$('#productSummary').slick({
		dots: false,
		infinite: false,
		speed: 300,
		slidesToShow: 3,
		slidesToScroll: 1,
	});
}
